---
title: "Computational Reproducibility in Data Science"
subtitle: "The Data Visualization Use Case"
author: "Venustiano Soancatl Aguilar"
format:
  revealjs:
    theme: dark
    slide-number: true
    chalkboard: true
    # preview-links: auto
---

## Content

- Problem
- Goal
- Trials and errors
- Best solution so far
- Lessons learned

## Problem

- Audience with different background and skills
- Different data
- Different hardware
- Different operating systems
- `There is no one-size-fits-all solution`

## Goal

- Help students `efficiently` learn and reproduce practical data-visualization workflows.
- Keep a good `balance` between theory and practice.



<!-- Computational reproducibility means that research results obtained through computation can be consistently `re-produced` by others  given the same inputs and methods.  -->

## Reproducibility matrix


![](./images/reproducible-matrix.jpg){ width=800px target="https://book.the-turing-way.org/reproducible-research/overview/overview-definitions/#rr-overview-definitions-reproducibility" }


## The Pillars of computational reproducibility

- Code
- Data
- `Environment`
- Documentation
- Workflows

##

![](./images/reproducibility_spectrum.png){ width=800px fig-align="center" target="https://www.mdpi.com/2073-4433/11/7/682" }

::: aside
`Peng 2011`
:::

## 

<iframe src="https://clauswilke.com/dataviz/" width="1200" height="600"></iframe>


## Capturing Computational Envionments

![](./images/computational-enviro.png){ width=800px target="https://book.the-turing-way.org/reproducible-research/renv/renv-options/"}


## First approach: docker containers

::: {.columns}
::: {.column width="50%"}
![](./images/container-what-is-container.png){ width=100% target="https://www.docker.com/app/uploads/2021/11/container-what-is-container-1110x961.png"}
:::
::: {.column width="50%"}
![](./images/Docker-today.png){ width=100% target="https://www.docker.com/app/uploads/2021/11/Docker-Website-2018-Diagrams-071918-V5_26_Docker-today-1110x919.png"}
:::
:::

## Pre-built environments

Two repositories including a great variety of python and R packages:

- [Jupyter stacks](https://jupyter-docker-stacks.readthedocs.io/en/latest/)
- [Rocker project](https://rocker-project.org/)
- +
- Additional R and Python packages
- LaTeX

## Instructions for the students

- Install Docker
- Run the `Hello world` example

## Some difficulties of the container approach

- Difficulties using the terminal
- Not enough time to teach `container management`
- Not enough `storage space` on their laptops
- Not enough permissions on their machine
- Computer setup language (e. g. Chinese)
- Too many processed running simultaneously

<!-- ## Results

- Fine
- Extra time was required
- Not good enough in terms of efficiency -->

## Second approach: Binder

- Launches Jupyter notebooks in the cloud
- No local install needed
- Share reproducible environments
- Great for teaching and demos
- Free, but limited resources

## How Binder works

::: center
![](./images/binder-comic.png){ width=800px fig-align="center" target="https://book.the-turing-way.org/communication/binder/"}
:::

## Main drawbacks running binder

- Starting the environment can be slow
- Few resources (2 GB in RAM)
- No persistent storage
- Not reliable for big groups


## Third approach: HPC (Habrok)


 - `10,000` + CPU cores
 - 100+ compute nodes
 - High-speed InfiniBand network
 - Large memory nodes for demanding tasks
 - GPU nodes for accelerated computing
 - Petabytes of storage
 - Shared for research and education


## Challenges using HPC

- Terminal can be challenging
  - File management
- Port-forwarding
  - SSH tunnel
- Loging into the HPC cluster

## Fourth approach: self hosted Binder

- Small cluster (17 cores)
- Limited memory (2 GB)
- 5G persistent storage


## Challenges

- Maintenance
- Limited resources
  - Human
  - Hardware

## Fifth approach: GitHub Codespaces

- Cloud-based development environments
- Run `VS Code` and `JupyterLab` in your browser
- Pre-configured for your project
- No local setup needed
- Code, build, and test from anywhere
- Great for collaboration and reproducibility

## GitHub Codespaces

![](./images/configuration-as-code.webp){ fig-align="center" target="https://www.analyticsvidhya.com/blog/2025/05/github-codespaces/"}

## Assignments

![](./images/github-classroom-assignments.png){ width=550px fig-align="center" target="https://teachdatascience.com/gitclass/"}

## GitHub Education: From Classroom to Codespaces

- Teachers join GitHub Education for `free resources`
- Set up a Classroom to manage assignments
- Use official or custom templates for student projects
- Students accept assignments, get their own repo
- Codespaces launches a ready-to-code environment for each student
- Teachers track progress, review code, and give feedback
- Streamlines reproducible, collaborative learning

## Are GitHub codespaces good enough?

- So far, it is the best approach
- No technical problems
- Students get a VM, 8-32 GB in RAM
- [Demo codespace](https://github.com/DataVisRug)



## Lessons learned

- The learning curve is high but `benefits are remarkable`
- Containerization plays an important role creating the environments
- `Always prepare an alternative`
- There is no system `100%` stable


## Git failures

![](./images/git-operation_failures.png)


## Benefits of Computational Reproducibility

1. Integrity and Trust
2. `Efficiency and Reuse`
3. Collaboration and Transparency
4. `Long-term` Preservation
5. Scalability and Generalization
6. Policy and Funding Compliance


**Thank You!**


